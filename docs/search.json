[{"path":"https://github.com/vjcitn/testkeras/articles/testkeras.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"testkeras -- do keras 3 and python 3.12 work with basilisk?","text":"package defines two functions. lksk shows one can obtain “version signature” collection python packages, using basilisk environment. environment lksk lkker demonstrates can use keras3 basilisk. obtain signature versions python modules problem using pybind11_abseil.","code":"testkeras:::bsklenv ## Loading required namespace: basilisk ## An object of class \"BasiliskEnvironment\" ## Slot \"envname\": ## [1] \"bsklenv\" ##  ## Slot \"pkgname\": ## [1] \"testkeras\" ##  ## Slot \"packages\": ## [1] \"python==3.12.10\"     \"keras==3.10.0\"       \"session-info==1.0.0\" ## [4] \"tensorflow==2.19.0\"  \"scikit-learn==1.5.0\" ##  ## Slot \"paths\": ## character(0) lksk ## function ()  ## { ##     proc = basilisk::basiliskStart(bsklenv, testload = \"keras\") ##     on.exit(basilisk::basiliskStop(proc)) ##     basilisk::basiliskRun(proc, function(mat, ...) { ##         sk = reticulate::import(\"sklearn\") ##         sk ##         reticulate::py_run_string(\"\\nimport session_info\\nsession_info.show(dependencies=True)\\n\") ##     }) ## } ## <bytecode: 0x12e223bd8> ## <environment: namespace:testkeras> lkker ## function ()  ## { ##     proc = basilisk::basiliskStart(bsklenv, testload = \"keras\") ##     on.exit(basilisk::basiliskStop(proc)) ##     basilisk::basiliskRun(proc, function(mat, ...) { ##         ke = reticulate::import(\"keras\") ##         reticulate::py_run_string(\"\\nfrom tensorflow import keras\\nfrom tensorflow.keras.layers import Dense\\nmodel = keras.Sequential([\\n    Dense(32, activation='relu', input_shape=(10,)),\\n    Dense(1, activation='sigmoid')\\n])\\n\") ##     }) ## } ## <bytecode: 0x12e3f25f8> ## <environment: namespace:testkeras>"},{"path":"https://github.com/vjcitn/testkeras/articles/testkeras.html","id":"modules-needed-with-scikit-learn","dir":"Articles","previous_headings":"","what":"Modules needed with scikit-learn","title":"testkeras -- do keras 3 and python 3.12 work with basilisk?","text":"","code":"lksk() ## ----- ## session_info        1.0.0 ## ----- ## charset_normalizer  3.4.2 ## cython_runtime      NA ## joblib              1.5.0 ## numpy               2.1.3 ## rpycall             NA ## rpytools            NA ## scipy               1.15.3 ## sklearn             1.5.0 ## threadpoolctl       3.6.0 ## ----- ## Python 3.12.10 (main, May  1 2025, 09:57:39) [Clang 17.0.0 (clang-1700.0.13.3)] ## macOS-15.5-arm64-arm-64bit ## ----- ## Session information updated at 2025-05-23 15:52 ## {'__name__': '__main__', '__doc__': None, '__package__': None, '__loader__': <class '_frozen_importlib.BuiltinImporter'>, '__spec__': None, '__annotations__': {}, '__builtins__': <module 'builtins' (built-in)>, 'r': <__main__.R>, 'session_info': <module 'session_info' from '/Users/vincentcarey/Library/Caches/org.R-project.R/R/basilisk/1.21.3/testkeras/0.0.1/bsklenv/lib/python3.12/site-packages/session_info/__init__.py'>}"},{"path":"https://github.com/vjcitn/testkeras/articles/testkeras.html","id":"using-keras","dir":"Articles","previous_headings":"","what":"Using keras","title":"testkeras -- do keras 3 and python 3.12 work with basilisk?","text":"","code":"kk = lkker() names(kk) # good ## [1] \"Dense\"        \"keras\"        \"model\"        \"r\"            \"session_info\" # not working as expected: reticulate::py_capture_output(reticulate::py_help(kk$keras)) ## [1] \"\""},{"path":"https://github.com/vjcitn/testkeras/articles/testkeras.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"testkeras -- do keras 3 and python 3.12 work with basilisk?","text":"","code":"sessionInfo() ## R version 4.5.0 (2025-04-11) ## Platform: aarch64-apple-darwin20 ## Running under: macOS Sequoia 15.5 ##  ## Matrix products: default ## BLAS:   /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.0.dylib  ## LAPACK: /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.1 ##  ## locale: ## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 ##  ## time zone: America/New_York ## tzcode source: internal ##  ## attached base packages: ## [1] stats     graphics  grDevices utils     datasets  methods   base      ##  ## other attached packages: ## [1] testkeras_0.0.1  BiocStyle_2.37.0 ##  ## loaded via a namespace (and not attached): ##  [1] cli_3.6.5           knitr_1.50          rlang_1.1.6         ##  [4] xfun_0.52           png_0.1-8           textshaping_1.0.1   ##  [7] jsonlite_2.0.0      dir.expiry_1.17.0   htmltools_0.5.8.1   ## [10] ragg_1.4.0          sass_0.4.10         rmarkdown_2.29      ## [13] grid_4.5.0          filelock_1.0.3      evaluate_1.0.3      ## [16] jquerylib_0.1.4     fastmap_1.2.0       yaml_2.3.10         ## [19] lifecycle_1.0.4     basilisk_1.21.3     bookdown_0.43       ## [22] BiocManager_1.30.25 compiler_4.5.0      fs_1.6.6            ## [25] Rcpp_1.0.14         htmlwidgets_1.6.4   lattice_0.22-7      ## [28] systemfonts_1.2.3   digest_0.6.37       R6_2.6.1            ## [31] reticulate_1.42.0   parallel_4.5.0      Matrix_1.7-3        ## [34] bslib_0.9.0         tools_4.5.0         pkgdown_2.1.2       ## [37] cachem_1.1.0        desc_1.4.3"},{"path":"https://github.com/vjcitn/testkeras/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Vince Carey. Author, maintainer.","code":""},{"path":"https://github.com/vjcitn/testkeras/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Carey V (2025). testkeras: test version enumeration keras. R package version 0.0.1, https://github.com/vjcitn/testkeras.","code":"@Manual{,   title = {testkeras: test version enumeration with keras},   author = {Vince Carey},   year = {2025},   note = {R package version 0.0.1},   url = {https://github.com/vjcitn/testkeras}, }"},{"path":"https://github.com/vjcitn/testkeras/index.html","id":"testkeras","dir":"","previous_headings":"","what":"test version enumeration with keras","title":"test version enumeration with keras","text":"want verify basilisk can handle keras3 like programmatically retrieve versions python packages used keras3 reticulate session. using sklearn function lksk package can produce: keras3 can’t exactly . can verify keras3 works present; py_help can see summary, reason use basilisk Ibex.","code":"----- session_info        1.0.0 ----- charset_normalizer  3.4.2 cython_runtime      NA joblib              1.5.0 numpy               2.1.3 rpycall             NA rpytools            NA scipy               1.15.3 sklearn             1.5.0 threadpoolctl       3.6.0 ----- Python 3.12.10 (main, May  1 2025, 09:57:39) [Clang 17.0.0 (clang-1700.0.13.3)] macOS-15.5-arm64-arm-64bit ----- Session information updated at 2025-05-23 06:54 mixed_precision (package)     models (package)     ops (package)     optimizers (package)     preprocessing (package)     quantizers (package)     random (package)     regularizers (package)     saving (package)     tree (package)     utils (package)     visualization (package)     wrappers (package)  VERSION     3.10.0  FILE     /Users/vincentcarey/Library/Caches/org.R-project.R/R/basilisk/1.21.3/testkeras/0.0.1/bsklenv/lib/python3.12/site-packages/keras/_tf_keras/keras/__init__.py"},{"path":"https://github.com/vjcitn/testkeras/reference/lkker.html","id":null,"dir":"Reference","previous_headings":"","what":"just import and create a model — lkker","title":"just import and create a model — lkker","text":"just import create model","code":""},{"path":"https://github.com/vjcitn/testkeras/reference/lkker.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"just import and create a model — lkker","text":"","code":"lkker()"},{"path":"https://github.com/vjcitn/testkeras/reference/lksk.html","id":null,"dir":"Reference","previous_headings":"","what":"import sklearn and look for method — lksk","title":"import sklearn and look for method — lksk","text":"import sklearn look method","code":""},{"path":"https://github.com/vjcitn/testkeras/reference/lksk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"import sklearn and look for method — lksk","text":"","code":"lksk()"}]
